---
layout: lesson
title: TikZ
category: extra1
description: Creating images with TikZ.
---

Er zijn een aantal verschillende toolsets voor het maken van grafische objecten in een TeX document. De meest bekende en waarschijnlijk de meest gebruikte toolset is Ti<i>k</i>Z, wat een recursieve afkorting is voor "Ti<i>k</i>Z ist <i>kein</i> Zeichenprogramm" (Duits voor Ti<i>k</i>Z is <i>geen</i> tekenprogramma). Uit de naam van de toolset kun je al merken dat het genereren van een figuur niet zal gebeuren door het figuur te tekenen zoals je dat misschien gewent bent in Paint of soortgelijke tekenprogrammas. Om met behulp van Ti<i>k</i>Z een figuur te maken moet je het door middel van bepaalde TeX commandos coderen. We zullen hier de basisbeginselen van Ti<i>k</i>Z behandelen.

Drie handige naslagwerken en bronnen van inspriratie voor het cre\"eren van figuren met behulp van Ti\textit{k}Z zijn: 
<ul>
  <li> De Wikibooks LaTeX handleiding pagina over Ti<i>k</i>Z:  https://en.wikibooks.org/wiki/LaTeX/PGF/TikZ, </li>
  <li> De CTAN entry voor Ti<i>k</i>Z met de officiele handleiding en andere documentatie: https://www.ctan.org/pkg/pgf, </li>
  <li> De TeXample Ti<i>k</i>Z database vol met voorbeelden en inspiratie: https://texample.net/tikz/. </li>
</ul>

## Bouwstenen van Ti<i>k</i>Z

Om een figuur te maken met Ti<i>k</i>Z moet je allereerst zorgen dat je het juiste package laadt in je TeX document, dat wil zeggen gebruik <code>\usepackage{tikz}</code> in de preamble. Er zijn een heleboel opties en speciale Ti<i>k</i>Z bibliotheken die je ook kunt gebruiken en specifiek moet aanroepen, maar deze zullen we in deze basisles niet nodig hebben en kun je zelf bekijken en uitproberen aan de hand van de drie naslagwerken die hierboven gegeven zijn. 

Een Ti<i>k</i>Zfiguur zet je meestal in een <code>\begin{figure}</code> LaTeX omgeving, zoals je ook met andere figuren doet. Dit is handig omdat je dan een ondertitel en figuurnummer kan meegeven, en gemakkelijk kan refereren aan je eigengemaakte figuur. Binnen je <code>figure</code> omgeving begin je een Ti<i>k</i>Zfiguur met de code <code>\begin{tikzpicture}</code>, waarna je kunt beginnen met het typesetten van je figuur. Je sluit zoals gewoonlijk de omgeving ook weer netjes af met het commando <code>\end{tikzpicture}</code>. 

Anders dan je gewend bent van het typesetten van tekst en wiskunde in LaTeX, heb je bij het typessetten van een figuur in Ti<i>k</i>Z één teken nodig wat niet een-op-een correspondeert met iets wat in je document terug te zien is. <b>Elke regel Ti<i>k</i>Zcode moet worden afgesloten met een puntkomma</b>.
	
Laten we beginnen om, stap voor stap, een graaf te typesetten in Ti<i>k</i>Z.

## Lijnen tekenen

Een graaf bestaat uit een aantal punten en lijnen. We beginnen voor het tekenen van een graaf met het definiëren van de coördinaten van de punten. In Ti<i>k</i>Z kunnen coördinaten gegeven worden op twee manieren. Een cartesiaans coördinaat wordt gegeven door twee getallen (een x- en een y-coördinaat) gescheiden door een komma, omgeven door ronde haakjes, dus <code>(-2,0)</code> of <code>(1.5,1.5)</code>. In Ti<i>k</i>Z kun je coördinaten ook geven in polaire vorm. Dit werkt door wederom in ronde haakjes twee getallen (de hoek in graden en de lengte) te geven, deze keer gescheiden door een dubbele punt, dus <code>(180:2)</code> of <code>(45:4.5)</code> voor diezelfde locaties. <b>Let op:</b> wanneer er geen maateenheid wordt gegeven worden centimeters gebruikt, je kunt je coördinaat ook geven als <code>(1cm, 2pt)</code> bijvoorbeeld.

Je kunt nu directe rechte lijnen tekenen tussen deze coördinaten met het <code>\draw</code> commando. 
```latex
\begin{tikzpicture}
  \draw (-1,0) -- (3,10pt) -- (35:3);
\end{tikzpicture}
```
Behalve het trekken van directe rechte lijnen, kunnen we ook andere vormen van lijnen definiëren, en deze lijnen kleuren of diktes of patronen meegeven. Gebruik bijvoorbeeld <code>-|</code> of <code>|-</code> in plaats van <code>--</code> voor het tekenen van lijnen die eerst horizontaal en dan verticaal gaan, of andersom.
De stijl van de lijnen kun je veranderen door opties mee te geven aan het <code>\draw</code>. Dat doe je door deze opties in blokhaken erachter te zetten. In het volgende voorbeeld tekenen we een pijl in plaats van een lijn, en geven we een andere lijn een kleurtje.
```latex
\begin{tikzpicture}
  \draw[->] (-1,0) -| (3,10pt);
  \draw[red] (3,10pt) -- (35:3);
\end{tikzpicture}
```
Raadpleeg de bronnen om te zien wat voor opties er allemaal mogelijk zijn. 

Behalve rechte lijnen kunnen we ook lijnen met een kromming tekenen, dit kan op een aantal manieren. In het volgende voorbeeld tekenen we er drie. 
```latex
\begin{tikzpicture}
  \draw (-1,0) to (5,1);
  \draw[green] (-1,0) to[out=90,in=135] (5,1);
  \draw[cyan] (-1,0) .. controls (0,-2) .. (5,1);
\end{tikzpicture}
```
Het eerste wat wellicht opvalt is dat we in plaats van <code>--</code> in dit voorbeeld <code>to</code> gebruiken om de coördinaten te verbinden, dit commando werkt precies hetzelfde, alleen kunnen we nu ook opties toevoegen. Voor de groene lijn geven we als opties een hoek (in graden) waarmee de lijn weggaat uit het eerste coördinaat en aankomt in het tweede. De blauwe lijn is een zogenoemde Bézierkromme, dit is een lijn gedefinieerd door zijn begin- en eindpunten, met daarbij een aantal steunpunten (in dit geval eentje) die als het ware de kromme naar zich toe trekken. In Ti<i>k</i>Z kun je dit soort lijnen tekenen met één of twee steunpunten. Zie hieronder bijvoorbeeld de code voor het tekeken van een Bézierkromme met twee steunpunten.
```latex
\begin{tikzpicture}
  \draw[dotted,gray] (-1,0) -- (5,1);
  \draw (-1,0) .. controls (0,-2) and (4,2) .. (5,1);
\end{tikzpicture}
```

## Nodes
De volgende stap op weg naar het tekeken van een graaf zijn de labels, de stukjes tekst en cijfers die in de figuur opgenomen zijn. Om tekst in een Ti<i>k</i>Zfiguur te gebruiken hebben we zogenoemde <i>nodes</i> nodig. Het simpelste voorbeeld van een node is wat tekst dat op een bepaald coördinaat geplaatst is, maar een node kan ook een stukje tekst zijn wat omgeven is door een cirkel, rechthoek, of andere simpele vorm. Een node hoeft niet persé tekst te bevatten, maar voor het overgrote deel is dat wel het doel van een node.
Een node kan gedefinieerd worden tijdens het tekenen van een pad, dat gaat als volgt:
```latex
\begin{tikzpicture}[scale=3]
  \draw (0,0) node {hallo} -- (1,1) node {wereld};
\end{tikzpicture}
```
De optie <code>[scale=3]</code> bij het beginnen van het plaatje vergroot de schaal van het figuur met een factor 3. Het commando <code>node</code> kan ook opties meegegeven worden, zo kun je bijvoorbeeld nodes plaatsen op het midden van een lijn, of aan het einde enzovoort. 
```latex
\begin{tikzpicture}[scale=3]
  \draw (0,0) -- (1,1) node[midway]{A} node[pos=0.75,above]{B} node[right]{C};
\end{tikzpicture}
```
Ook kun je de nodes wiskundige tekst meegeven, en zoals gezegd kun je ze omkaderen in simpele vormen. 
```latex
\begin{tikzpicture}[scale=3]
  \draw (0,0) node[circle]{$\sum_{i=1}^{n}n^2$} -- (1,1) 
  node[rectangle,draw]{$\frac{1}{\sqrt{2}}$};
\end{tikzpicture}
```
Zoals je misschien ziet als je deze code uitprobeert is het nu niet heel mooi dat de lijn nog steeds precies in de gedefinieerde coordinaten begint en eindigt. Dit kunnen we oplossen door de nodes apart te definiëren en een label te geven, zodat we de lijn van node naar node kunnen laten lopen.
```latex
\begin{tikzpicture}[scale=3]
  % definieer nodes
  \node[circle,draw] (label1) at (0,0) {$\sum_{i=1}^{n}n^2$};
  \node[rectangle,draw] (label2) at (1,1) {$\frac{1}{\sqrt{2}}$};
  
  % teken de lijn
  \draw (label1) -- (label2); 
\end{tikzpicture}
```
Nu hebben we voldoende voorbeelden gezien om te begrijpen hoe een graaf gemaakt kan worden in Ti<i>k</i>Z. Hieronder wordt een voorbeeldcode gegeven voor het maken van een gekozen graaf.
```latex
\begin{tikzpicture}[scale=2]
  % Define the nodes
  \node[circle, draw] at (0,0) (a) {A};
  \node[rectangle, fill] at (3,0) (b) {};
  \node at (3,0.4) (blabel) {B};
  \node[rectangle,rounded corners, draw] at (5,2) (c) {C};
  
  % Draw the paths
  \draw[->, green] (a) -- (b) node[midway, below,black]{2};
  \draw[<->, blue] (a) to[out=45, in=135] (b);
  \draw[->>,red] (b)--(c);
  \draw[yellow,dotted,very thick] (b) |- (c);
  \draw[<-,cyan] (b) -| (c);
  \draw[thick,black] (a).. controls (1,5) .. (c) node[midway, above]{$\frac{1}{2}$};
\end{tikzpicture}
```

## Grafieken plotten
Je kunt in Ti<i>k</i>Z niet alleen lijnen tussen coördinaten trekken. Je kunt ook grafieken van een groot aantal verschillende functies plotten. Bijvoorbeeld de functie $y = x^2$ op het interval $[-2,2]$.
```latex
\begin{tikzpicture}
  \draw [domain=-2:2] plot (\x, {pow(\x,2});
\end{tikzpicture}
```
Door middel van de methodes van vorige secties kun je daar een assenstelsel bij tekenen, en alles netjes labelen. Bijvoorbeeld:
```latex
\begin{tikzpicture}[scale=1.5]
  % Teken de x en y as, label de assen en de oorsprong
  \draw[gray, ->] (-2,0) -- (2,0) node[right]{$x$} node[pos=0.53, below]{$O$};
  \draw[gray, ->] (0,-1) -- (0,1) node[above]{$y$};
  \draw[fill,gray] (0,0) circle [radius=1pt];
   
  % Teken de grafiek
  \draw[blue, thick] [domain=-2:2, samples=150] plot (\x, {cos(pi*\x r)}) 
  node[right]{$y = \cos(x)$};
  % Let op: de r in het argument van de cosinus geeft aan dat we \x in radialen invoeren
\end{tikzpicture}
```

## Werken met loops
Binnen Ti<i>k</i>Z kun je ook werken met for loops. Daarvoor gebruiken we <code>\foreach ... in ...</code>, zo kunnen we bijvoorbeeld een vrij ingewikkeld plaatje heel snel typesetten.
```latex
\begin{tikzpicture}[scale=0.75]
  \foreach \x in {0,1,2,3}
  \draw[red,thick] (0,\x) circle [radius=\x+1];
\end{tikzpicture}
```
Dit idee kan dan ook handig gebruikt worden voor het tekenen van iteratieve figuren zoals de driehoek van Sierpiński, al heb je daar wel een speciale Ti<i>k</i>Z bibliotheek voor nodig waarmee je een recursieve functie kunt definieren. De volgende code geeft de eerste zes iteraties van een Sierpińskidriehoek, getekend in Ti<i>k</i>Z. De code bevat ook wat dingen in de preamble (voor <code>\begin{document}</code>), dus we geven daarvoor de code alsof we een pdf maken met alleen het figuur erin. 
```latex
\documentclass[border=1cm]{standalone}

\usepackage{tikz}
\usetikzlibrary{math}

% Definieer een gelijkzijdige driehoek met linkeronderhoek op coördinaat #1 en met
% lengte van de zijdes #2
\newcommand\Triangle[2]{
  \draw #1 coordinate(a)  -- ++(0:#2) coordinate(b) ;
  \draw (a) -- ++(60:#2) coordinate(c);
  \fill (a) -- (b) -- (c) -- cycle;
}
		
\begin{document}
\begin{tikzpicture}
  \tikzmath{
    % Definieer de recursieve functie sierpinski
    function sierpinski(\x, \y, \s, \d) {
      if (\d == 0) then {
        % Teken een driehoek linkeronderhoek op (\x,\y), lengte \s
        { \Triangle{(\x,\y)}{\s}; };
			} else {
        % Rescale de lengte van de zijdes en kies de juiste coordinaten
	% voor de nieuwe driehoekjes
        \u1 = 0.25*\s;
        \u2 = \u1*sqrt(3);
        \u3 = 0.5*\s;
        sierpinski(\x,\y,\u3,\d-1);
        sierpinski(\x+\u3,\y,\u3,\d-1);
        sierpinski(\x+\u1,\y+\u2,\u3,\d-1);
      };
    };
    % Laat de lengte van de zijde van de basisdriehoek gelijk zijn aan 4, en genereer 6 figuren
    \S = 4;
    for \d in {0,...,5}{
      % Om alle plots netjes langs en onder elkaar te krijgen definieren we de coordinaten
      % van linkeronderhoek vooraf
      \x = (\S+1)*mod(\d,2);
      \y = int(\d/2) * (\S+1);
      sierpinski(\x,-\y,\S,\d);
      };
  }
\end{tikzpicture}
\end{document}
```
